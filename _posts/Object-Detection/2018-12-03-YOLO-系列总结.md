---
layout: post
title: YOLO 系列总结
category: 目标检测
tags: yolo 系列总结
keywords: yolo 系列总结
description:
---

## YOLO 系列对比

### 网络结构

||YOLO v1|YOLO v2|YOLO v3|
|:---:|:---|:---|:---|
|基础网络|1. 改进 GoogLeNet，用 1x1 和 3x3 卷积核代替 inception modules;<br>2. Activation Function：Leaky ReLU: f(x)=max(x,0.1x)|darknet19|darknet53：<br>1. 使用 resnet 思想，添加了 residual block，降低了梯度消失的风险;<br>2. 不再使用 pooling 层，而是用步长为 2 的卷积层代替，避免了信息丢失;|
|Concat Layer|无|第 16 层降采样与第 24 层拼接||
|Fully Connected Layer|两层全连接层|1. 无;<br>2. 大大减少了参数规模;|无|
|Upsample Layer|无|无|非线性插值法，上采用两次|
|防止过拟合|dropout|1. batch normalization;<br>2. 提升模型泛化能力的同时使得模型更容易收敛;||
|Anchor Box|1. 无;<br>2. 一个 cell 预测一个类;|1. k-means：对 GT 大小进行聚类；<br>2. 一个 anchor box 预测一类，解决了临近物体检测效果不好问题|1. k-means：对 GT 大小进行聚类；<br>2. 9 个尺度的 anchor boxes;<br>3. 每个feature map分配 3 个尺度的 anchor boxes|
|Bounding Box Prediction|直接预测|1. anchor box + offset + sigmoid activation;<br>2. 使用 offset，相较于直接预测的 BBox 位置，预测物体的偏移量，更易稳定收敛；<br>3. 使用 sigmoid activation，预测 region proposal 的中心点相对于 anchor boxes 中心的偏移量较大时，不好收敛。将预测值加以 sigmoid 运算，将 region proposal 的中心点限定在 anchor box 的中心点所在的 cell 里;||

### 模型输入

||YOLO v1|YOLO v2|YOLO v3|
|:---:|:---:|:---:|:---:|
|数据增强|1. 饱和度;<br>2. 曝光度;<br>3. 色调;<br>4. 抖动;|比 v1 增加了<br>1. 图片180°反转<br>2. 多尺度训练||
|||||
|||||
|||||

### 模型输出

**S × S × B × (coordinates + width ＋ height+ confidence + C)**

||YOLO v1|YOLO v2|YOLO v3|
|:---:|:---|:---|:---|
|输出大小|S=7、B=2|S=13、B=5||
|预测框|直接预测 BBox 的位置和大小|预测 BBox 相对于 anchor boxes 的偏移量||
|||||
|||||
|||||

### 损失函数

||YOLO v1|YOLO v2|YOLO v3|
|:---:|:---|:---|:---|
|不含物体的 BB 的 confidence||||
|含物体的 BB 的 confidence||||
|类别||||
|坐标 x、y||||
|宽高 w、h|对宽高都进行开根，使得预测相同的偏差时更小的框产生更大的损失；|1. 使用 $2 - W_{ij}*h_{ij}$<br>2. 小物体的惩罚比大物体重||