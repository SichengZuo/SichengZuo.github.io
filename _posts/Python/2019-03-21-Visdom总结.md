---
layout: post
title: Visdom 总结
category: Python
tags: visdom
description:
---

## 1. 远程映射

```bash
$ python -m visdom.server

# 可选参数
# -port：运行服务器的端口（默认8097）
# -env_path：重新加载序列化会话的路径
# -logging_level：记录级别（默认=INFO）。接受标准文本和数字记录值
```
如果不起作用，请将以下行添加到本地 
    
    ~/.ssh/config:LocalForward 127.0.0.1:8097 127.0.0.1:8097

## 2. python 用法

```python
import visdom
import torch
import numpy as np
# ------ 指定environment ------
vis = visdom.Visdom(env='test')

# --------- vis.line ---------
x = torch.arange(0, 10, 0.01)
y = torch.sin(x)
vis.line(X=x, Y=y, win='sinx', opts={'title': 'y=sin(x)'})

# ------ update中的append ------
for i in range(10):
    x = torch.Tensor([i])
    y = x**2
    vis.line(X=x,Y=y, win='sinx', update='append')

# ----------- image -----------
vis.image(np.random.randn(3, 64, 64), win='image')

# ----------- images -----------
vis.images(np.random.randn(32, 3, 64, 64), nrow=8, win='images')

# ----------- heatmap -----------
viz.heatmap(
    X=np.outer(np.arange(1, 6), np.arange(1, 11)),
    opts=dict(
        columnnames=['a', 'b', 'c', 'd', 'e', 'f', 'g', 'h', 'i', 'j'],
        rownames=['y1', 'y2', 'y3', 'y4', 'y5'],
        colormap='Electric',
    )
)
```